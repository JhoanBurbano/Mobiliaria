{"ast":null,"code":"import _asyncToGenerator from \"/media/jhoanburbano/ubuntu-data/jhoanburbano/projects/angular/Architect/_client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport Swal from 'sweetalert2';\nlet HomeComponent = class HomeComponent {\n  constructor(profileS, homeS, toast, cookie, router) {\n    this.profileS = profileS;\n    this.homeS = homeS;\n    this.toast = toast;\n    this.cookie = cookie;\n    this.router = router;\n    this.encabezado = 'Los Mas Buscados';\n    this.rol = this.cookie.get('ROL');\n    this.favoritos = [];\n    this.inmuebles = [];\n  }\n\n  ngOnInit() {\n    this.obtenerInmuebles();\n  }\n\n  noLogin() {\n    if (this.rol === null) {\n      this.router.navigate(['/auth/login']);\n    }\n  }\n\n  obtenerInmuebles() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        _this.loadFavorites();\n\n        const data = yield _this.homeS.getInmuebles();\n        _this.inmuebles = data;\n      } catch (error) {\n        Swal.fire('Ocurrio un error', undefined, 'error');\n      }\n    })();\n  }\n\n  loadFavorites() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        _this2.favoritos = yield _this2.homeS.getFavorites(null);\n        console.log(_this2.favoritos);\n      } catch (error) {}\n    })();\n  }\n\n  addFavorite(idInm) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        const message = yield _this3.homeS.addFavorite(idInm);\n\n        if (message.message === 'A単adido a favoritos') {\n          Swal.fire({\n            titleText: 'Susess',\n            text: message.message,\n            icon: message.icon\n          });\n        } else {\n          const {\n            isConfirmed,\n            isDenied\n          } = yield Swal.fire({\n            titleText: '多Estas seguro que quieres remover de tus favoritos?',\n            icon: 'question',\n            showDenyButton: true,\n            showConfirmButton: true,\n            confirmButtonText: 'Si',\n            denyButtonText: 'No'\n          });\n\n          if (isConfirmed) {\n            const removed = yield _this3.homeS.removeFavorite(idInm);\n            Swal.fire({\n              titleText: 'Susess',\n              text: removed.message,\n              icon: removed.icon\n            });\n          }\n        }\n\n        _this3.loadFavorites();\n\n        _this3.obtenerInmuebles();\n      } catch (error) {\n        Swal.fire('Error del try', 'Ocurrio un error');\n      }\n    })();\n  }\n\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})], HomeComponent);\nexport { HomeComponent };","map":{"version":3,"sources":["/media/jhoanburbano/ubuntu-data/jhoanburbano/projects/angular/Architect/_client/src/app/components/home/home.component.ts"],"names":["__decorate","Component","Swal","HomeComponent","constructor","profileS","homeS","toast","cookie","router","encabezado","rol","get","favoritos","inmuebles","ngOnInit","obtenerInmuebles","noLogin","navigate","loadFavorites","data","getInmuebles","error","fire","undefined","getFavorites","console","log","addFavorite","idInm","message","titleText","text","icon","isConfirmed","isDenied","showDenyButton","showConfirmButton","confirmButtonText","denyButtonText","removed","removeFavorite","selector","templateUrl","styleUrls"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport Swal from 'sweetalert2';\nlet HomeComponent = class HomeComponent {\n    constructor(profileS, homeS, toast, cookie, router) {\n        this.profileS = profileS;\n        this.homeS = homeS;\n        this.toast = toast;\n        this.cookie = cookie;\n        this.router = router;\n        this.encabezado = 'Los Mas Buscados';\n        this.rol = this.cookie.get('ROL');\n        this.favoritos = [];\n        this.inmuebles = [];\n    }\n    ngOnInit() {\n        this.obtenerInmuebles();\n    }\n    noLogin() {\n        if (this.rol === null) {\n            this.router.navigate(['/auth/login']);\n        }\n    }\n    async obtenerInmuebles() {\n        try {\n            this.loadFavorites();\n            const data = await this.homeS.getInmuebles();\n            this.inmuebles = data;\n        }\n        catch (error) {\n            Swal.fire('Ocurrio un error', undefined, 'error');\n        }\n    }\n    async loadFavorites() {\n        try {\n            this.favoritos = await this.homeS.getFavorites(null);\n            console.log(this.favoritos);\n        }\n        catch (error) {\n        }\n    }\n    async addFavorite(idInm) {\n        try {\n            const message = await this.homeS.addFavorite(idInm);\n            if (message.message === 'A単adido a favoritos') {\n                Swal.fire({\n                    titleText: 'Susess',\n                    text: message.message,\n                    icon: message.icon,\n                });\n            }\n            else {\n                const { isConfirmed, isDenied } = await Swal.fire({\n                    titleText: '多Estas seguro que quieres remover de tus favoritos?',\n                    icon: 'question',\n                    showDenyButton: true,\n                    showConfirmButton: true,\n                    confirmButtonText: 'Si',\n                    denyButtonText: 'No'\n                });\n                if (isConfirmed) {\n                    const removed = await this.homeS.removeFavorite(idInm);\n                    Swal.fire({\n                        titleText: 'Susess',\n                        text: removed.message,\n                        icon: removed.icon,\n                    });\n                }\n            }\n            this.loadFavorites();\n            this.obtenerInmuebles();\n        }\n        catch (error) {\n            Swal.fire('Error del try', 'Ocurrio un error');\n        }\n    }\n};\nHomeComponent = __decorate([\n    Component({\n        selector: 'app-home',\n        templateUrl: './home.component.html',\n        styleUrls: ['./home.component.scss']\n    })\n], HomeComponent);\nexport { HomeComponent };\n"]},"metadata":{},"sourceType":"module"}