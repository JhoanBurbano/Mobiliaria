{"ast":null,"code":"import _asyncToGenerator from \"/media/jhoanburbano/ubuntu-data/jhoanburbano/projects/angular/Architect/_client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport Swal from 'sweetalert2';\nlet LoginComponent = class LoginComponent {\n  constructor(fb, router, toastr, _userService, homeS, activeR) {\n    this.fb = fb;\n    this.router = router;\n    this.toastr = toastr;\n    this._userService = _userService;\n    this.homeS = homeS;\n    this.activeR = activeR;\n    this.SITE_KEY = '6Le1n0cdAAAAADIbgkv_eIFWhJK0M06pxzOFPiGh';\n    this.siteKey = \"6Le1n0cdAAAAADIbgkv_eIFWhJK0M06pxzOFPiGh\";\n    this.loginForm = this.fb.group({\n      email: ['', Validators.required //  Validators.email\n      ],\n      password: ['', Validators.required // Validators.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[$@$!%*?&])([A-Za-z\\d$@$!%*?&]|[^ ]){8,15}$/),\n      ],\n      captcha: [null, Validators.required]\n    });\n  }\n\n  ngOnInit() {}\n\n  captureParams() {\n    this.token = this.activeR.snapshot.params['idInm'];\n  }\n\n  recPass() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        const {\n          value: email,\n          isDenied\n        } = yield Swal.fire({\n          title: 'Input email address',\n          input: 'email',\n          inputLabel: 'Your email address',\n          inputPlaceholder: 'Enter your email address',\n          showDenyButton: true,\n          denyButtonText: \"cancelar\",\n          confirmButtonText: \"recuperar\"\n        });\n\n        if (!isDenied && email) {\n          const isSended = yield _this.homeS.recoveryPass(email);\n\n          if (isSended.isSended) {\n            Swal.fire(\"Email enviado\", isSended.message, 'success');\n          } else {\n            Swal.fire(\"Email enviado\", isSended.message, 'success');\n          }\n        }\n      } catch (error) {}\n    })();\n  }\n\n  loginUser() {\n    var _a, _b;\n\n    const USUARIO = {\n      name: \"\",\n      lastname: \"\",\n      rol: \"\",\n      number: 0,\n      email: (_a = this.loginForm.get('email')) === null || _a === void 0 ? void 0 : _a.value,\n      password: (_b = this.loginForm.get('password')) === null || _b === void 0 ? void 0 : _b.value\n    };\n    console.log(USUARIO);\n\n    this._userService.login(USUARIO).subscribe(data => {\n      console.log(data);\n      this.toastr.success(`${data.dataUser.name.toUpperCase()} Welcome to ARCHITETCS!`, \"User Logged\");\n      location.reload();\n    }, error => {\n      // this.toastr.error('Something is wrong', 'Error Login')\n      Swal.fire({\n        titleText: 'ERROR LOGIN',\n        text: 'Something is wrong',\n        icon: 'error',\n        confirmButtonText: 'Try again',\n        confirmButtonColor: '#d55',\n        confirmButtonAriaLabel: 'ssss',\n        toast: false,\n        // timer: 2000,\n        // timerProgressBar: true,\n        showCloseButton: false,\n        customClass: {\n          confirmButton: `\n          outline: none;\n          nav-index:none;\n          border:none\n          `\n        }\n      });\n      console.log(error);\n      this.router.navigate(['/auth/login']);\n    });\n  }\n\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})], LoginComponent);\nexport { LoginComponent };","map":{"version":3,"sources":["/media/jhoanburbano/ubuntu-data/jhoanburbano/projects/angular/Architect/_client/src/app/auth/components/login/login.component.ts"],"names":["__decorate","Component","Validators","Swal","LoginComponent","constructor","fb","router","toastr","_userService","homeS","activeR","SITE_KEY","siteKey","loginForm","group","email","required","password","captcha","ngOnInit","captureParams","token","snapshot","params","recPass","value","isDenied","fire","title","input","inputLabel","inputPlaceholder","showDenyButton","denyButtonText","confirmButtonText","isSended","recoveryPass","message","error","loginUser","_a","_b","USUARIO","name","lastname","rol","number","get","console","log","login","subscribe","data","success","dataUser","toUpperCase","location","reload","titleText","text","icon","confirmButtonColor","confirmButtonAriaLabel","toast","showCloseButton","customClass","confirmButton","navigate","selector","templateUrl","styleUrls"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport Swal from 'sweetalert2';\nlet LoginComponent = class LoginComponent {\n    constructor(fb, router, toastr, _userService, homeS, activeR) {\n        this.fb = fb;\n        this.router = router;\n        this.toastr = toastr;\n        this._userService = _userService;\n        this.homeS = homeS;\n        this.activeR = activeR;\n        this.SITE_KEY = '6Le1n0cdAAAAADIbgkv_eIFWhJK0M06pxzOFPiGh';\n        this.siteKey = \"6Le1n0cdAAAAADIbgkv_eIFWhJK0M06pxzOFPiGh\";\n        this.loginForm = this.fb.group({\n            email: ['', Validators.required,\n                //  Validators.email\n            ],\n            password: [\n                '',\n                Validators.required,\n                // Validators.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[$@$!%*?&])([A-Za-z\\d$@$!%*?&]|[^ ]){8,15}$/),\n            ],\n            captcha: [\n                null,\n                Validators.required\n            ]\n        });\n    }\n    ngOnInit() {\n    }\n    captureParams() {\n        this.token = this.activeR.snapshot.params['idInm'];\n    }\n    async recPass() {\n        try {\n            const { value: email, isDenied } = await Swal.fire({\n                title: 'Input email address',\n                input: 'email',\n                inputLabel: 'Your email address',\n                inputPlaceholder: 'Enter your email address',\n                showDenyButton: true,\n                denyButtonText: \"cancelar\",\n                confirmButtonText: \"recuperar\"\n            });\n            if (!isDenied && email) {\n                const isSended = await this.homeS.recoveryPass(email);\n                if (isSended.isSended) {\n                    Swal.fire(\"Email enviado\", isSended.message, 'success');\n                }\n                else {\n                    Swal.fire(\"Email enviado\", isSended.message, 'success');\n                }\n            }\n        }\n        catch (error) {\n        }\n    }\n    loginUser() {\n        var _a, _b;\n        const USUARIO = {\n            name: \"\",\n            lastname: \"\",\n            rol: \"\",\n            number: 0,\n            email: (_a = this.loginForm.get('email')) === null || _a === void 0 ? void 0 : _a.value,\n            password: (_b = this.loginForm.get('password')) === null || _b === void 0 ? void 0 : _b.value,\n        };\n        console.log(USUARIO);\n        this._userService.login(USUARIO).subscribe(data => {\n            console.log(data);\n            this.toastr.success(`${data.dataUser.name.toUpperCase()} Welcome to ARCHITETCS!`, \"User Logged\");\n            location.reload();\n        }, error => {\n            // this.toastr.error('Something is wrong', 'Error Login')\n            Swal.fire({\n                titleText: 'ERROR LOGIN',\n                text: 'Something is wrong',\n                icon: 'error',\n                confirmButtonText: 'Try again',\n                confirmButtonColor: '#d55',\n                confirmButtonAriaLabel: 'ssss',\n                toast: false,\n                // timer: 2000,\n                // timerProgressBar: true,\n                showCloseButton: false,\n                customClass: {\n                    confirmButton: `\n          outline: none;\n          nav-index:none;\n          border:none\n          `\n                }\n            });\n            console.log(error);\n            this.router.navigate(['/auth/login']);\n        });\n    }\n};\nLoginComponent = __decorate([\n    Component({\n        selector: 'app-login',\n        templateUrl: './login.component.html',\n        styleUrls: ['./login.component.scss']\n    })\n], LoginComponent);\nexport { LoginComponent };\n"]},"metadata":{},"sourceType":"module"}